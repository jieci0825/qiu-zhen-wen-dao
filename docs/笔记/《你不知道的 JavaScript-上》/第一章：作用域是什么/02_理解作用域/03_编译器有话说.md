---
title: 编译器有话说
---

# 编译器有话说
> 在上一步，我们已经知道了编译器是如何处理 `var a = 2` 这句代码的。所以这一章节，我们继续来讲解编译器是如何处理 `var a = 2` 这句代码的。

## 了解 LHS 和 RHS
在编程领域中，LHS（Left-Hand Side）​​ 和 ​​RHS（Right-Hand Side）​​ 是描述变量查找机制的术语，尤其在 JavaScript 中的作用域查询中至关重要。

### LHS（左侧查询）
- **目的**：找到变量的 **容器本身**（即赋值目标）
- **场景**：当变量出现在赋值操作的左侧时（a = 2），或函数传参（如 foo(a) 中的形参 a 接收值）。
- **未声明时的行为**：
    - 非严格模式：当变量未声明时，LHS 会自动创建一个 **全局变量**。
    - 严格模式：抛出 ReferenceError 异常。

### RHS（右侧查询）




在引擎执行代码时，会通过查找变量 a 来判断变量 a 是否已经声明过。这可能是一句很笼统的描述，那么具体是怎么查找的呢？这就是我们下面要讲的内容。

在讲解之前，我们则需要先了解两个新的名词：`LHS` 和 `RHS`。LHS 和 RHS 分别表示 **赋值操作** 的左侧和右侧。换而言之，LHS 指的是赋值操作的目标是谁，RHS 指的是谁是赋值操作的源头。

基于这个概念，我们可以更加准确的描述这个过程，RHS 指的是去查找某个变量的值，而 LHS 指的是找到变量的容器本身，从而可以对其赋值。所以说，从这个角度来说，RHS 并不是真正意义上的“赋值操作的右侧”，而是“获取变量值的操作右侧”。

那么我们来看一下下面两句代码，分别都会有什么表现：
```javascript
console.log(a);

a = 2;
```
`console.log(a)` 这句代码中，变量 a 的引用是 RHS 的引用，因为这里需要去查找变量 a 的值，才能将值传递给 `console.log` 函数。

而 `a = 2` 这句代码中，变量 a 的引用就是 LHS 的引用，并不关心当前的值是什么，只是想为 `= 2` 这个赋值操作找到一个目标。