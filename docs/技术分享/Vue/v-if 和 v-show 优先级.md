---
title: v-if 和 v-show 优先级
---

# v-if 和 v-show 优先级

> 在 Vue 中，`v-if` 的优先级比 `v-show` 高，主要是因为它们的实现机制和渲染方式不同。

1. **`v-if` 的实现机制**：`v-if` 是“真正”的条件渲染指令，它会根据表达式的真假来动态地创建或销毁元素及其子组件。当条件为假时，元素及其子组件会被完全销毁，不会存在于 DOM 中；当条件为真时，元素及其子组件会被重新创建并插入到 DOM 中。这种机制确保了在切换过程中，条件块内的事件监听器和子组件会被适当地销毁和重建。

2. **`v-show` 的实现机制**：`v-show` 则是通过 CSS 的 `display` 属性来控制元素的可见性。无论条件为真还是假，元素始终会被渲染到 DOM 中，只是通过 `display: none` 来隐藏元素。这种机制不会涉及元素的创建和销毁，只是简单地切换元素的可见性。

3. **优先级的原因**：由于 `v-if` 会直接操作 DOM 的创建和销毁，而 `v-show` 只是切换 CSS 属性，因此 `v-if` 的优先级更高。当 `v-if` 的条件为假时，元素根本不会被渲染到 DOM 中，即使 `v-show` 的条件为真，元素也不会显示。这种设计确保了 `v-if` 的条件判断能够优先控制元素的渲染行为。

总结来说，`v-if` 的优先级高于 `v-show` 是因为 `v-if` 直接控制元素的创建和销毁，而 `v-show` 只是控制元素的可见性。这种机制使得 `v-if` 在条件判断上具有更高的控制权。