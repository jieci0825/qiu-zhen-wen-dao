---
title: 同一个URL如何实现适配手机和电脑
---

# 同一个URL如何实现适配手机和电脑

在开发过程中，我们经常会遇到同一个URL需要适配手机和电脑的情况。比如，一个网站需要同时支持手机和电脑访问，但是手机和电脑的布局和样式是不同的。那么，如何实现同一个URL适配手机和电脑呢？
常见的一共有三种方式：
1. 流体布局
2. 媒体查询
3. 服务器判断请求头 `User-Agent`

## 流体布局
这种方式一般是使用百分比、flex、grid、rem等方式实现，屏幕变大就跟着变大，变小就跟着变小。

不过这种方式一般只适用于一些简单的页面，比如单纯的一些数据展示，而通常屏幕变大变小，布局和样式也会发生很大的变化，所以这种方式并不常用。

## 媒体查询
一般是 CSS 控制，使用`@media`来实现，根据不同的屏幕宽度，来设置不同的样式。比如尺寸变小，某块区域不可见，尺寸变大，某块区域可见，进行一些较大的变化。
```css
@media screen and (max-width: 768px) {
  .container {
    width: 100%;
  }
}
```
也可以使用 JS 来控制，使用 `matchMedia` 实现。
```js
if (window.matchMedia('(max-width: 768px)').matches) {
  // 手机
} else {
  // 电脑
}
```
这种方式的好处是，可以完全控制页面的布局和样式，而且不需要后端支持，只需要前端控制即可。但是缺点是，需要维护多套样式，而且样式可能会比较复杂。即两个设备之间的差异化越大，开发与维护成本越高。且打包体积也会变大。

## 服务器判断请求头 `User-Agent`
这种方式是通过一层代理，根据请求头 `User-Agent` 来判断设备，根据不同的设备类型，在进行一次重定向，然后返回不同的页面。

这种方式的好处是，可以完全控制页面的布局和样式，且样式维护比较方便，但是缺点是，需要后端支持，且需要两套页面，开发成本较大。